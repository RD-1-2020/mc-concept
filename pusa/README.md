# Pusa Service

`Pusa` - это веб-приложение, которое выступает в роли клиента для сервера конфигурации `Phoca`. Оно демонстрирует, как сервис может получать конфигурацию при запуске и динамически обновлять ее без перезапуска.

## Основные функции

1.  **Управление пользователями**:
    - Просмотр списка пользователей.
    - Создание новых пользователей.
    - Длина пароля нового пользователя валидируется согласно значению, полученному из `Phoca`.

2.  **Управление конфигурацией**:
    - Отображение и изменение значения конфигурации (минимальная длина пароля).
    - Изменения отправляются в `Phoca` по gRPC.

## Технологический стек

- **Spring Boot**: Основа приложения.
- **Spring Web**: Для создания REST контроллеров и веб-интерфейса.
- **Spring Data JPA**: Для работы с базой данных пользователей (`pusa_db` в PostgreSQL).
- **Thymeleaf**: Шаблонизатор для веб-страниц.
- **Spring Cloud Config Client**: Для получения конфигурации от `Phoca`.
- **Spring Cloud Bus**: Для получения уведомлений об изменении конфигурации через NATS.
- **gRPC Client**: Для взаимодействия с `Phoca` с целью обновления конфигурации.

## Взаимодействие

- **При запуске**: `Pusa` обращается к `Phoca` для получения своей конфигурации.
- **Во время работы**:
    - Пользовательский интерфейс позволяет изменять параметр конфигурации.
    - При изменении, `Pusa` отправляет gRPC запрос в `Phoca`.
    - `Pusa` подписан на события изменения конфигурации через NATS и автоматически обновляет свой внутренний контекст (`@Value`, `@ConfigurationProperties`) при получении уведомления.
